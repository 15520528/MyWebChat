{"ast":null,"code":"import { Actions } from '../Constants/Constants';\nimport { UserService } from '../../Services/UserService';\nimport { history } from '../../Helper/History';\nimport { applyMiddleware as dispatch } from \"redux\";\n\nfunction login(username, password) {\n  return function (dispatch) {\n    UserService.login(username, password).then(function (user) {\n      console.log(user.username);\n      localStorage.setItem('user', JSON.stringify(user));\n      history.push('/');\n      window.location.reload(true);\n    }).catch(function (error) {\n      console.log('error', error);\n      history.push('/login');\n      window.location.reload(true);\n    });\n  };\n\n  function success() {\n    return {\n      type: Actions.USER_SUCCESS_LOGIN,\n      status: 'success'\n    };\n  }\n}\n\nfunction logout() {\n  console.log('logout');\n  UserService.logout();\n}\n\nexport var UserActions = {\n  login: login,\n  logout: logout\n};","map":{"version":3,"sources":["/home/lap11105-local/Documents/my friend repos/chat/chat-app-netty/chat-app-netty/app-design/src/Redux/Actions/UserActions.js"],"names":["Actions","UserService","history","applyMiddleware","dispatch","login","username","password","then","user","console","log","localStorage","setItem","JSON","stringify","push","window","location","reload","catch","error","success","type","USER_SUCCESS_LOGIN","status","logout","UserActions"],"mappings":"AAAA,SAAQA,OAAR,QAAsB,wBAAtB;AACA,SAAQC,WAAR,QAA0B,4BAA1B;AACA,SAAQC,OAAR,QAAsB,sBAAtB;AACA,SAAQC,eAAe,IAAIC,QAA3B,QAA0C,OAA1C;;AAGA,SAASC,KAAT,CAAeC,QAAf,EAAyBC,QAAzB,EAAmC;AAC/B,SAAO,UAAAH,QAAQ,EAAI;AACfH,IAAAA,WAAW,CAACI,KAAZ,CAAkBC,QAAlB,EAA4BC,QAA5B,EACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACH,QAAjB;AACAM,MAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAA7B;AACAP,MAAAA,OAAO,CAACc,IAAR,CAAa,GAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACH,KANL,EAOKC,KAPL,CAOW,UAAAC,KAAK,EAAI;AACZX,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBU,KAArB;AACAnB,MAAAA,OAAO,CAACc,IAAR,CAAa,QAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB;AACH,KAXL;AAYH,GAbD;;AAcI,WAASG,OAAT,GAAmB;AAAE,WAAO;AAAEC,MAAAA,IAAI,EAAEvB,OAAO,CAACwB,kBAAhB;AAAoCC,MAAAA,MAAM,EAAC;AAA3C,KAAP;AAA8D;AAC1F;;AAED,SAASC,MAAT,GAAkB;AACVhB,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAV,EAAAA,WAAW,CAACyB,MAAZ;AACP;;AAID,OAAO,IAAMC,WAAW,GAAG;AACvBtB,EAAAA,KAAK,EAALA,KADuB;AAEvBqB,EAAAA,MAAM,EAANA;AAFuB,CAApB","sourcesContent":["import {Actions} from '../Constants/Constants';\nimport {UserService} from '../../Services/UserService';\nimport {history} from '../../Helper/History';\nimport {applyMiddleware as dispatch} from \"redux\";\n\n\nfunction login(username, password) {\n    return dispatch => {\n        UserService.login(username, password)\n            .then(user => {\n                console.log(user.username);\n                localStorage.setItem('user', JSON.stringify(user));\n                history.push('/');\n                window.location.reload(true);\n            })\n            .catch(error => {\n                console.log('error', error);\n                history.push('/login');\n                window.location.reload(true);\n            });\n    }\n        function success() { return { type: Actions.USER_SUCCESS_LOGIN, status:'success'} }\n}\n\nfunction logout() {\n        console.log('logout');\n        UserService.logout();\n}\n\n\n\nexport const UserActions = {\n    login,\n    logout\n};"]},"metadata":{},"sourceType":"module"}