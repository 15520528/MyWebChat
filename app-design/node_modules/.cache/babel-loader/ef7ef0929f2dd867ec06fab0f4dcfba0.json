{"ast":null,"code":"import axios from 'axios';\nimport { history } from '../Helper/History';\n\nfunction login(username, password, phone) {\n  return new Promise(function (resolve, reject) {\n    var user = {\n      userName: username,\n      password: password,\n      phone: phone\n    };\n    var data = JSON.stringify(user);\n    axios.post('http://localhost:6898/login', data).then(function (res) {\n      console.log(res.data);\n\n      if (res.data.status === 'success') {\n        console.log(\"success register\");\n        localStorage.setItem('user', JSON.stringify(user));\n        history.push('/');\n        window.location.reload(true);\n      } else {\n        reject(\"tài khoản đã tồn tại\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  });\n}\n\nfunction register(username, password, phone) {\n  return new Promise(function (resolve, reject) {\n    var user = {\n      userName: username,\n      password: password,\n      phone: phone\n    };\n    var data = JSON.stringify(user);\n    axios.post('http://localhost:6898/register', data).then(function (res) {\n      console.log(res.data);\n\n      if (res.data.status === 'success') {\n        console.log(\"success register\");\n        localStorage.setItem('user', JSON.stringify(user));\n        history.push('/');\n        window.location.reload(true);\n      } else {\n        resolve(\"tài khoản đã tồn tại\");\n      }\n    }).catch(function (error) {\n      console.log(error);\n    });\n  });\n}\n\nfunction logout() {\n  // remove user from local storage to log user out\n  localStorage.removeItem('user');\n  window.location.reload(true);\n}\n\nfunction getFriends() {\n  return new Promise(function (resolve, reject) {\n    axios.get('http://localhost:6898/loadFriends').then(function (res) {\n      console.log(res.data);\n      resolve(res.data);\n    }).catch(function (error) {// resolve(list);\n    });\n  });\n}\n\nexport var UserService = {\n  login: login,\n  register: register,\n  logout: logout,\n  getFriends: getFriends\n};","map":{"version":3,"sources":["/home/lap11105-local/Documents/My repos/Id_1/app-design/src/Services/UserService.js"],"names":["axios","history","login","username","password","phone","Promise","resolve","reject","user","userName","data","JSON","stringify","post","then","res","console","log","status","localStorage","setItem","push","window","location","reload","catch","error","register","logout","removeItem","getFriends","get","UserService"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {history} from '../Helper/History';\nfunction login(username, password, phone ){\n    return new Promise(function(resolve, reject) {\n        const user={\n            userName: username,\n            password: password,\n            phone: phone\n        };\n        const data = JSON.stringify(user);\n\n        axios.post(\n            'http://localhost:6898/login',\n            data\n        )\n            .then(res => {\n                console.log(res.data);\n                if(res.data.status ==='success'){\n                    console.log(\"success register\");\n                    localStorage.setItem('user', JSON.stringify(user));\n                    history.push('/');\n                    window.location.reload(true);\n                }\n                else{\n                    reject(\"tài khoản đã tồn tại\")\n                }\n\n            })\n            .catch((error)=>{\n                console.log(error);\n            })\n    });\n}\n\nfunction register(username, password, phone){\n    return new Promise(function(resolve, reject) {\n        const user={\n            userName: username,\n            password: password,\n            phone: phone\n        };\n        const data = JSON.stringify(user);\n\n        axios.post(\n            'http://localhost:6898/register',\n            data\n        )\n            .then(res => {\n                console.log(res.data);\n                if(res.data.status ==='success'){\n                    console.log(\"success register\");\n                    localStorage.setItem('user', JSON.stringify(user));\n                    history.push('/');\n                    window.location.reload(true);\n                }\n                else{\n                    resolve(\"tài khoản đã tồn tại\")\n                }\n\n            })\n            .catch((error)=>{\n                console.log(error);\n            })\n    });\n}\n\nfunction logout() {\n    // remove user from local storage to log user out\n    localStorage.removeItem('user');\n    window.location.reload(true);\n}\n\nfunction getFriends() {\n    return new Promise(function(resolve, reject) {\n        axios.get('http://localhost:6898/loadFriends')\n            .then(res => {\n                console.log(res.data)\n                resolve(res.data);\n            })\n            .catch(error=>{\n                // resolve(list);\n            })\n    });\n}\n\nexport const UserService = {\n    login,\n    register,\n    logout,\n    getFriends\n};"]},"metadata":{},"sourceType":"module"}